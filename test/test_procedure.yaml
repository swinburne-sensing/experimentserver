%YAML 1.2
---
# NOTES
# Anything beginning with a # is a comment and is ignored by the program.
# You can use this to enable/disable certain functions

log:
  version: 1
  formatters:
    console_format:
      format: "%(asctime)s [%(levelname).1s] %(threadName)s %(name)s: %(message)s"
      datefmt: "%y%m%d %H:%M:%S"
    file_format:
      format: "%(asctime)s [%(levelname)s] %(threadName)s@%(filename)s:%(lineno)d %(name)s: %(message)s"
      datefmt: "%Y/%m/%d %H:%M:%S"
  handlers:
    stdout_handler:
      class: gasutil.console.ColoramaStreamHandler
      formatter: console_format
      level: INFO
      stream: ext://sys.stdout
    debug_file_handler:
      class: logging.handlers.TimedRotatingFileHandler
      filename: "{path_log}/debug.log"
      when: "D"
      formatter: file_format
      level: DEBUG
      encoding: "utf-8"
      backupCount: 3
    error_file_handler:
      class: logging.FileHandler
      formatter: file_format
      level: WARNING
      filename: "{path_log}/error.log"
      encoding: "utf-8"
    instance_file_handler:
      class: logging.FileHandler
      formatter: file_format
      level: INFO
      filename: "{path_result}/log_{date}_{time}.log"
      encoding: "utf-8"
    pushover_handler_hanie:
      class: gasutil.pushover.PushoverHandler
      api_token: akY2vpNg2j6LgoUrtxUsY5KYgNtDR6
      user_key: uuygcu9mm7t34b327ny3jgjnqj9tay
  root:
    level: DEBUG
    handlers: [stdout_handler, debug_file_handler, error_file_handler, instance_file_handler, pushover_handler_hanie]

experiment:
  # PROBABLY DON'T NEED TO CHANGE ANYTHING HERE
  # Configure this to be a gas sensing experiment
  class: gas.GasExperiment

  # Destinations for data
  exporter:
    - class: influx.InfluxDBExporter
      connect_args:
        #host: 192.168.3.2
        host: research.etoast.net
        port: 443
        ssl: True
        path: influxdb
        username: gastest
        password: q7DoPhqTAsOoPC5e78Jf
      database: experiment

  hardware:
    # SETUP INSTRUMENTS HERE
    # List of hardware used in this experiment
    # Enable to use Keithley 6487 Picoammeter
    - !include C:\\experiment\\gastest\\config\\keithley.yaml

    # Enable to use LCR meter
    #- !include lcr.yaml

    # List of mass flow controllers
    - !include C:\\experiment\\gastest\\config\\mfc.yaml

  # Gases used in this experiment
  gas:
    # Air is used as balance gas
    balance: gas_air

    # CHANGE OVERALL FLOW RATE HERE
    # 200 sccm is a good default flow rate
    flow: 200 sccm

  # Steps for experiment
  step:
    - !include protocol-hanie.yaml
...
